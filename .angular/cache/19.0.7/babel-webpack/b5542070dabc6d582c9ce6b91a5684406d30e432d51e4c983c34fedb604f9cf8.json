{"ast":null,"code":"import { EventEmitter } from \"@angular/core\";\nimport { Button } from \"../button/button\";\nimport { RouterModule } from \"@angular/router\";\nimport { NgIf } from \"@angular/common\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nconst _c0 = a0 => [\"/products\", a0];\nfunction BookItem_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function BookItem_div_7_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.decrease.emit(ctx_r1.getIsbn()));\n    });\n    i0.ɵɵtext(2, \"\\u2212\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 12);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function BookItem_div_7_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.increase.emit(ctx_r1.getIsbn()));\n    });\n    i0.ɵɵtext(6, \"+\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.item.quantity);\n  }\n}\nfunction BookItem_app_button_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-button\", 13);\n    i0.ɵɵlistener(\"buttonClick\", function BookItem_app_button_11_Template_app_button_buttonClick_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onAdd());\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction BookItem_app_button_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-button\", 14);\n    i0.ɵɵlistener(\"buttonClick\", function BookItem_app_button_12_Template_app_button_buttonClick_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onRemove());\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nlet BookItem = /*#__PURE__*/(() => {\n  class BookItem {\n    item; // item может быть как CartItem, так и Book\n    mode;\n    add = new EventEmitter();\n    remove = new EventEmitter();\n    increase = new EventEmitter();\n    decrease = new EventEmitter();\n    // Геттеры для работы с данными\n    get book() {\n      return this.item.book || this.item;\n    }\n    getTitle() {\n      return this.book.title;\n    }\n    getPrice() {\n      return this.book.price;\n    }\n    getImage() {\n      return this.book.image;\n    }\n    getIsbn() {\n      return this.book.isbn13;\n    }\n    getSubtitle() {\n      return this.book.subtitle;\n    }\n    // Методы для обработки действий\n    onAdd() {\n      this.add.emit(this.book);\n      console.log(\"Added:\", this.book);\n    }\n    onRemove() {\n      this.remove.emit(this.book);\n      console.log(\"Removed:\", this.book);\n    }\n    static ɵfac = function BookItem_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || BookItem)();\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: BookItem,\n      selectors: [[\"app-book-item\"]],\n      inputs: {\n        item: \"item\",\n        mode: \"mode\"\n      },\n      outputs: {\n        add: \"add\",\n        remove: \"remove\",\n        increase: \"increase\",\n        decrease: \"decrease\"\n      },\n      decls: 13,\n      vars: 10,\n      consts: [[1, \"Item\"], [\"alt\", \"\\u041E\\u0431\\u043B\\u043E\\u0436\\u043A\\u0430 \\u043A\\u043D\\u0438\\u0433\\u0438\", 1, \"Item-img\", 3, \"src\"], [1, \"Item-title\"], [\"routerLinkActive\", \"productDetails\", 3, \"routerLink\"], [1, \"Item-description\"], [\"class\", \"quantity-controls\", 4, \"ngIf\"], [1, \"Item-actions\"], [1, \"Item-price\"], [\"title\", \"Add\", \"btnStyle\", \"primary\", \"type\", \"button\", 3, \"buttonClick\", 4, \"ngIf\"], [\"title\", \"Remove\", \"btnStyle\", \"delete\", \"type\", \"button\", 3, \"buttonClick\", 4, \"ngIf\"], [1, \"quantity-controls\"], [3, \"click\"], [1, \"quantity\"], [\"title\", \"Add\", \"btnStyle\", \"primary\", \"type\", \"button\", 3, \"buttonClick\"], [\"title\", \"Remove\", \"btnStyle\", \"delete\", \"type\", \"button\", 3, \"buttonClick\"]],\n      template: function BookItem_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵelement(1, \"img\", 1);\n          i0.ɵɵelementStart(2, \"div\", 2)(3, \"a\", 3);\n          i0.ɵɵtext(4);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(5, \"div\", 4);\n          i0.ɵɵtext(6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(7, BookItem_div_7_Template, 7, 1, \"div\", 5);\n          i0.ɵɵelementStart(8, \"div\", 6)(9, \"div\", 7);\n          i0.ɵɵtext(10);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(11, BookItem_app_button_11_Template, 1, 0, \"app-button\", 8)(12, BookItem_app_button_12_Template, 1, 0, \"app-button\", 9);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"src\", ctx.getImage(), i0.ɵɵsanitizeUrl);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(8, _c0, ctx.getIsbn()));\n          i0.ɵɵadvance();\n          i0.ɵɵtextInterpolate1(\" \", ctx.getTitle(), \" \");\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate(ctx.getSubtitle());\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.mode === \"remove\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(ctx.getPrice());\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.mode === \"add\");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.mode === \"remove\");\n        }\n      },\n      dependencies: [Button, RouterModule, i1.RouterLink, i1.RouterLinkActive, NgIf],\n      styles: [\".Item[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;gap:16px;padding:16px;transition:background-color 1s}.Item-img[_ngcontent-%COMP%]{width:100%;max-width:50px}.Item-title[_ngcontent-%COMP%]{font-weight:700}.Item-title[_ngcontent-%COMP%]:hover{color:var(--primary);cursor:pointer}.Item-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:24px;flex:auto}\"]\n    });\n  }\n  return BookItem;\n})();\nexport { BookItem as default };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}